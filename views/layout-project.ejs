<!DOCTYPE html>
<html>


<head>

  <link rel="icon" href="/images/amatilogo.png" sizes="32x32" />
  <link rel="icon" href="/images/amatilogo.png" sizes="192x192" />
  <link rel="apple-touch-icon-precomposed" href="/images/amatilogo.png" />
  <meta name="msapplication-TileImage" content="/images/amatilogo.png" />
  <!-- Bootstrap CSS-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  <!-- Bootstrap JS-->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  <!-- <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBbUFZJhvcv_dLJIxGJrdfpTE3YLhupiVA&callback=initialize&libraries=&v=weekly"
      async
  ></script> -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBbUFZJhvcv_dLJIxGJrdfpTE3YLhupiVA"></script>


  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@900&display=swap" rel="stylesheet">

  <!-- Logo Fontawesome -->
  <title><%= project.projectName %></title>
  <meta charset="utf-8" />

  <link rel="stylesheet" href="/project/styleedited.css">
  <link rel="stylesheet" href="/project/style360.css">
  <style>
    img.lazy {
      opacity: 0;
    }

    img:not(.initial) {
      transition: opacity 1s;
    }

    img.initial,
    img.loaded,
    img.error {
      opacity: 1;
    }

    img:not([src]) {
      visibility: hidden;
    }
  </style>

</head>

<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-warning navbar-layout-account">
    <a class="navbar-brand col-1" href="/beranda"><img class="logo-amati-navbar" src="/images/logo-amati-navbar.png" alt=""></a>
    <strong class="posisi-page" href="/beranda"></strong>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav nav-pills">
        <li class="nav-item">
          <a class="nav-link" href="/beranda"><img class="icon" src="/images/beranda.png">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/daftarproyek"><img class="icon" src="/images/proyek.png">Project List</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#"><img class="icon" src="/images/koneksi.png">Network</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#"><img class="icon" src="/images/support.png">Support</a>
        </li>

        <li class="nav-item dropdown profil">
          <strong class="text-dark dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <%= name %>
          </strong>
          <div class="profile dropdown-menu bg-warning" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="/edituser">Profile</a>
            <a class="dropdown-item" href="#">Settings</a>
            <a class="dropdown-item" href="/logout">Log Out</a>
          </div>
        </li>
      </ul>
    </div>
  </nav>


  <%- body %>



  <script src="/socket.io/socket.io.js"></script>
  <!-- DIBAWAH INI UDAH JAVASCRIPT SEMUA -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/33f1988f52.js" crossorigin="anonymous"></script>
  <script src="/assets/js/navbar.js" charset="utf-8"></script>
  <script src="/assets/js/toggle.js" charset="utf-8"></script>

  <script src="/project/dataset/360/index.js"></script>
  <script src="/project/js/drawing.js"> </script>
  <script src="/assets/js/maps.js"> </script>

  <script src="/project/dataset/360/vendor/screenfull.min.js"></script>
  <script src="/project/dataset/360/vendor/bowser.min.js"></script>
  <script src="/project/dataset/360/vendor/marzipano.js"></script>


  <script>
    fetch('/project/data.json')
      .then(response => response.json())
      .then(function(response) {
        const datascene = response.scenes;
        let sceneName = '';
        datascene.forEach(m => {
          sceneName += `<a href="javascript:void(0)" class="scene btn btn-outline-warning btn-sm btn-block" data-id="${m.id}"><li class="text">${m.name}</li></a>`;
        });
        const isidatasceneName = document.querySelector('.scenes');
        isidatasceneName.innerHTML = sceneName;
      })

      .then(response => {
        let script = document.createElement('script');
        script.src = '/project/dataset/360/data.js';
        document.head.appendChild(script);
      });

    console.log('bacot dah');
  </script>


  <div id="map">


  </div>



  <script src="/assets/js/lazyload.min.js"></script>
  <script>
    (function() {
      function logElementEvent(eventName, element) {
        console.log(Date.now(), eventName, element.getAttribute("data-src"));
      }

      var callback_enter = function(element) {
        logElementEvent("üîë ENTERED", element);
      };
      var callback_exit = function(element) {
        logElementEvent("üö™ EXITED", element);
      };
      var callback_loading = function(element) {
        logElementEvent("‚åö LOADING", element);
      };
      var callback_loaded = function(element) {
        logElementEvent("üëç LOADED", element);
      };
      var callback_error = function(element) {
        logElementEvent("üíÄ ERROR", element);
        element.src =
          "https://via.placeholder.com/440x560/?text=Error+Placeholder";
      };
      var callback_finish = function() {
        logElementEvent("‚úîÔ∏è FINISHED", document.documentElement);
      };
      var callback_cancel = function(element) {
        logElementEvent("üî• CANCEL", element);
      };

      var ll = new LazyLoad({
        threshold: 0,
        // Assign the callbacks defined above
        callback_enter: callback_enter,
        callback_exit: callback_exit,
        callback_cancel: callback_cancel,
        callback_loading: callback_loading,
        callback_loaded: callback_loaded,
        callback_error: callback_error,
        callback_finish: callback_finish
      });
    })();
  </script>



</body>

</html>
